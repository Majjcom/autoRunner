# 配置文件格式



配置文件通过 json 保存， 具体格式如下：

```json
{
    "version": "1.0",
    "checks": [
        {
            "type": "event",
            "event": "null",
            "rate": 1,
            "todo": {
                "type": "todo",
                "actions": [
                    {
                        "type": "action",
                        "action": "screen_shot",
                        "save": "desktop.png"
                    }
                ]
            }
        },
        {
            "type": "event",
            "event": "image_appear",
        	"base": "./desktop.png",
            "image": "./baseimg/xxx.png",
            "var": "last_pos",
            "rate": 1,
            "todo": {
                "type": "todo",
                "actions": [
                    {
                        "type": "action",
                        "action": "move_mouse_to",
                        "var": "last_pos"
                    },
                    {
                        "type": "action",
                        "action": "sleep",
                        "sleep_time": 0.5
                    },
                    {
                        "type": "action",
                        "action": "mouse_click",
                        "push_time": 0.1
                    },
                    {
                        "type": "action",
                        "action": "get_image_pos",
                        "var": "image_pos",
                        "base": "desktop.png",
                        "image": "./baseimg/xxxx.png"
                    },
                    {
                        "type": "action",
                        "action": "move_mouse_to",
                        "var": "image_pos"
                    },
                    {
                        "type": "sleep",
                        "action": "sleep",
                        "sleep_time": 0.5
                    },
                    {
                        "type": "action",
                        "action": "mouse_click",
                        "push_time": 0.1
                    }
                ]
            }
        },
        {
            "type": "event",
            "event": "null",
            "todo": {
                "type": "todo",
                "actions": [
                    {
                        "type": "action",
                        "action": "remove_file",
                        "ignore_error": true,
                        "path": "desktop.png"
                    }
                ]
            }
        },
        {
            ...
        }
    ]
}
```

具体实现方法采用总类实现。

通过解析json文件获取检测结构，通过该检测结构加入基本运行时。

应用为单线程，但也可以指派`mutithreading`来注册多线程事件。

基础类通过不同子类实现不同功能，极大程度保证可扩展性

